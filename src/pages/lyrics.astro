---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';

const songs = [
  {
    title: "Dans la Nuit",
    lyrics: `Verse 1
Dans la nuit silencieuse
Les étoiles brillent pour nous
Le temps s'arrête, précieuse
Cette mélodie entre nous

Chorus
Dans la nuit, dans la nuit
Nos rêves prennent leur envol
Dans la nuit, dans la nuit
La musique nous console

Verse 2
Les ombres dansent autour
De nos silhouettes enlacées
Le silence fait son tour
Dans nos âmes apaisées

Chorus
Dans la nuit, dans la nuit
Nos rêves prennent leur envol
Dans la nuit, dans la nuit
La musique nous console

Bridge
Le temps suspend son vol
Les étoiles nous guident
Vers un monde plus sol
Où nos cœurs se décident

Outro
Dans la nuit éternelle
Nos âmes se retrouvent
Une danse immortelle
Que les astres approuvent`
  },
  {
    title: "L'Aube Nouvelle",
    lyrics: `Verse 1
L'horizon s'éveille doucement
Les premiers rayons du soleil
Touchent la terre tendrement
Un nouveau jour sans pareil

Chorus
L'aube nouvelle nous appelle
Vers des chemins inconnus
L'aube nouvelle étincelle
De promesses revenues

Verse 2
Les nuages se dispersent
Laissant place à la clarté
Les ombres se reversent
Dans la nouvelle liberté

Chorus
L'aube nouvelle nous appelle
Vers des chemins inconnus
L'aube nouvelle étincelle
De promesses revenues

Bridge
Entre hier et demain
Se dessine l'aurore
Sur un nouveau chemin
Où tout recommence encore

Outro
L'aube nous illumine
De ses rayons dorés
L'espoir se dessine
Dans le jour qui naît`
  },
  {
    title: "Le Dernier Voyage",
    lyrics: `Verse 1
Sur les routes infinies
Le voyage nous transforme
Les paysages défilent
Le temps prend d'autres formes

Chorus
C'est le dernier voyage
Vers l'horizon lointain
C'est le dernier passage
Vers un nouveau destin

Verse 2
Les kilomètres s'effacent
Sous nos pas vagabonds
Les souvenirs se tracent
Dans le ciel profond

Chorus
C'est le dernier voyage
Vers l'horizon lointain
C'est le dernier passage
Vers un nouveau destin

Bridge
Entre terre et ciel
Le chemin nous guide
Vers l'essentiel
D'un monde plus limpide

Outro
Le voyage s'achève
Mais l'histoire continue
Dans nos plus beaux rêves
Sur des routes inconnues`
  }
];
---

<Layout title="Jean Dubois - Paroles">
  <Navigation />
  <main class="pt-24 pb-20">
    <div class="container mx-auto px-6">
      <div class="max-w-5xl mx-auto">
        <div class="flex flex-col md:flex-row gap-8 mb-12">
          <div class="md:w-1/3">
            <img
              src="https://images.unsplash.com/photo-1614613535308-eb5fbd3d2c17?q=80&w=2070"
              alt="Album Cover"
              class="w-full aspect-square object-cover rounded-lg"
            />
          </div>
          <div class="md:w-2/3">
            <h1 class="font-playfair text-4xl md:text-5xl text-neutral-900 mb-8">Paroles</h1>
            <div class="space-y-4">
              {songs.map((song, index) => (
                <div class="border border-neutral-200 rounded-lg">
                  <button
                    class="w-full px-6 py-4 bg-white hover:bg-neutral-50 transition-colors duration-300 flex items-center justify-between text-left"
                    onclick={`
                      const lyrics = document.getElementById('lyrics-${index}');
                      const allLyrics = document.querySelectorAll('[id^="lyrics-"]');
                      const currentIcon = this.querySelector('svg');
                      const allIcons = document.querySelectorAll('[id^="icon-"]');
                      
                      // Ferme tous les autres dropdowns
                      allLyrics.forEach(el => {
                        if (el.id !== 'lyrics-${index}') {
                          el.classList.add('hidden');
                        }
                      });
                      
                      // Réinitialise toutes les icônes
                      allIcons.forEach(icon => {
                        icon.style.transform = 'rotate(0deg)';
                      });
                      
                      // Toggle le dropdown actuel
                      lyrics.classList.toggle('hidden');
                      
                      // Rotate l'icône
                      if (!lyrics.classList.contains('hidden')) {
                        currentIcon.style.transform = 'rotate(180deg)';
                      } else {
                        currentIcon.style.transform = 'rotate(0deg)';
                      }
                    `}
                  >
                    <span class="text-lg font-semibold text-neutral-900">{song.title}</span>
                    <svg
                      id={`icon-${index}`}
                      class="w-5 h-5 text-neutral-500 transition-transform duration-300"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M19 9l-7 7-7-7"
                      />
                    </svg>
                  </button>
                  <div
                    id={`lyrics-${index}`}
                    class="hidden px-6 py-4 bg-neutral-50 border-t border-neutral-200"
                  >
                    <div class="max-h-96 overflow-y-auto">
                      <pre class="whitespace-pre-wrap font-inter text-neutral-700">{song.lyrics}</pre>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>

        <div class="text-center">
          <a
            href="/"
            class="inline-block px-6 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 transition-colors duration-300"
          >
            Retour à l'accueil
          </a>
        </div>
      </div>
    </div>
  </main>
</Layout>

<style>
  button:focus {
    outline: 2px solid #059669;
    outline-offset: -2px;
  }

  /* Styles pour la scrollbar */
  .max-h-96 {
    scrollbar-width: thin;
    scrollbar-color: #9CA3AF transparent;
  }

  .max-h-96::-webkit-scrollbar {
    width: 6px;
  }

  .max-h-96::-webkit-scrollbar-track {
    background: transparent;
  }

  .max-h-96::-webkit-scrollbar-thumb {
    background-color: #9CA3AF;
    border-radius: 3px;
  }
</style>